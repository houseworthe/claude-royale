# 2v2 Mode - Co-op with Ethan

**Purpose:** Play 2v2 battles alongside Ethan (project supervisor).

---

## How It Works

1. Ethan sends a 2v2 invite from his device
2. Claude sees notification: "ehouse is looking for a 2v2 battle"
3. Claude taps the 2v2 accept button AND spawns 3 player agents simultaneously
4. Play the match normally
5. After match ends, return to main menu

---

## 2v2 Protocol

**CRITICAL: Read SPAWN_INSTRUCTIONS_HAIKU.md before spawning agents!**

**When user says "2v2 mode":**

1. Take a screenshot
2. If you DON'T see "ehouse is looking for a 2v2 battle" notification:
   - Wait 5 seconds (`sleep 5`)
   - Screenshot again
   - Repeat until you see the notification
3. Once you see the notification, proceed with spawn protocol below

**When you see "ehouse is looking for a 2v2 battle" notification:**

```
MESSAGE 1 - ALL IN PARALLEL:
  Bash (background): ./scripts/tap.sh 2v2_accept
  Task (background): Player Agent 1 with SPAWN_INSTRUCTIONS_HAIKU.md
  Task (background): Player Agent 2 with SPAWN_INSTRUCTIONS_HAIKU.md
  Task (background): Player Agent 3 with SPAWN_INSTRUCTIONS_HAIKU.md

THEN:
  Wait 60 seconds
  Poll agents with AgentOutputTool
  Repeat every 60 seconds until agents complete
```

**That's it.** The 2v2_accept button joins the match, agents play it.

---

## 2v2 Differences from 1v1

- **Shared lane:** You and Ethan each control one side of the board
- **No trophy change:** 2v2 doesn't affect trophy count
- **Teammate:** Ethan handles his half, you handle yours
- **Result screen:** Same as 1v1, use `result_ok` to dismiss

---

## Commander Loop (2v2 Mode)

1. Screenshot - see "ehouse is looking for a 2v2 battle"
2. Read SPAWN_INSTRUCTIONS_HAIKU.md
3. In ONE message: tap 2v2_accept + spawn 3 agents (all parallel)
4. Poll agents until match ends
5. Dismiss result screen with `result_ok`
6. Wait for next instruction from Ethan
